<FlatButton@ButtonBehavior+Label>:
    font_size: 16


<CardUIWindow>:

    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/2
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

#： 标题
    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "AiTC智能发卡系统"
            font_name: "Font_Hanzi"
            bold: True


    GridLayout:
        cols: 2
    #左半模块
        BoxLayout:
            id: Left
            orientation: "vertical"
            StatusBar:
                center: self.parent.center


            Button:
                text: "复位"
                font_name: "Font_Hanzi"
                size_hint_y: None
                height: 40





    #右半模块
        BoxLayout:
            id: right_layout
            orientation: "vertical"
            padding: 10, 0, 0, 0

            #发卡信息
            CardNumber:
                center: self.parent.center
            #车型车牌显示
            PlateNumber:
                center: self.parent.center
            #流程状态显示
            LogText:
                center: self.parent.center



<CardNumber>:
    init_card: init_card
    sent_card: sent_card
    recycled_card: recycled_card
    remaining_card: remaining_card

    cols: 2
    spacing: 2
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "初始卡数: "
        font_name: "Font_Hanzi"
    TextInput:
        id:init_card
        hint_text: "请输入初始卡数"
        font_name: "Font_Hanzi"
        multiline: False
        focus: True
        input_filter: 'int'
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)

            Rectangle:
                size: self.size
                pos: self.pos
        text: "已发卡数: "
        font_name: "Font_Hanzi"
    TextInput:
        id: sent_card
        text:'0'
        multiline: False
        readonly: True
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "回收卡数: "
        font_name: "Font_Hanzi"
    TextInput:
        id: recycled_card
        text:'0'
        multiline: False
        readonly: True
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "剩余卡数: "
        font_name: "Font_Hanzi"
    TextInput:
        id: remaining_card
        text:'0'
        multiline: False
        readonly: True
    Button:
        text: "Send"
        on_press: root.btn_send()
        on_release: root.release()
    Button:
        text: "Recycle"
        on_press: root.btn_recycle()
        on_release: root.release()
    Label:
        id:sp
        size_hint_y: None
        height: 5

<PlateNumber>:
    spacing: 2
    cols: 2
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "车型: "
        font_name: "Font_Hanzi"
    TextInput:
        hint_text: "车型："
        font_name: "Font_Hanzi"
        multiline: False
    Label:
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "车牌： "
        font_name: "Font_Hanzi"
    TextInput:
        hint_text: "请输入临牌："
        font_name: "Font_Hanzi"
        multiline: False

<LogText>:
    logText: logText

    TextInput:
        id:logText
        hint_text: "流程状态"
        font_name: "Font_Hanzi"



<StatusBar>:

    plc_module: plc_module
    robot_module: robot_module
    car_type_module: car_type_module
    car_window_module: car_window_module
    ground_sense: ground_sense
    car_stop: car_stop
    plc_connect: plc_connect
    ultrasonic: ultrasonic
    robot_running: robot_running
    card_position: card_position
    card_remain: card_remain
    robot_alarm: robot_alarm
    micro_wave: micro_wave
    fill_light: fill_light
    camera_running: camera_running
    plate_system: plate_system
    up_camera: up_camera
    down_camera: down_camera
    window_position: window_position

    spacing: 2
    cols: 4
    Label:
        id:plc_module
        col: (238/255.0,118/255.0,0/255.0,1)
        canvas.before:
            Color:
                rgba: self.col
            Rectangle:
                size: self.size
                pos: self.pos
        text: "PLC模块状态"
        font_name: "Font_Hanzi"
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: ground_sense
            readonly: True
            text: "地感线圈"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        TextInput:
            id: car_stop
            readonly: True
            text: "车停状态"
            font_name: "Font_Hanzi"
            background_color: (238/255.0,44/255.0,44/255.0,1)
        TextInput:
            id: plc_connect
            readonly: True
            text: "PLC链接状态"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        Label:
            canvas.before:
                Color:
                    rgba: (238/255.0,118/255.0,0/255.0,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "超声波数值"
            font_name: "Font_Hanzi"
        TextInput:
            id: ultrasonic
            readonly: True
        Button:
            text: "color"
            on_press: root.btn()

    Label:
        id: robot_module
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "机器人模块状态"
        font_name: "Font_Hanzi"
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: robot_running
            readonly: True
            text: "机器人自动运行中"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        GridLayout:
            cols:2
            Label:
                canvas.before:
                    Color:
                        rgba: (238/255.0,118/255.0,0/255.0,1)
                    Rectangle:
                        size: self.size
                        pos: self.pos
                text: "取卡位："
                font_name: "Font_Hanzi"
            TextInput:
                id: card_position
                readonly: True
                text: "1/2/3/4"
        TextInput:
            id: card_remain
            readonly: True
            text: "机器人有卡"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        TextInput:
            id: robot_alarm
            readonly: True
            text: "机器人报警"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)



    Label:
        id: car_type_module
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "车型车牌模块状态"
        font_name: "Font_Hanzi"
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: micro_wave
            readonly: True
            text: "微波"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        TextInput:
            id: fill_light
            readonly: True
            text: "补光灯"
            font_name: "Font_Hanzi"
            background_color: (238/255.0,44/255.0,44/255.0,1)
        TextInput:
            id: camera_running
            readonly: True
            text: "相机运行状态"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        TextInput:
            id: plate_system
            readonly: True
            text: "车牌系统"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
    Label:
        id: car_window_module
        canvas.before:
            Color:
                rgba: (238/255.0,118/255.0,0/255.0,1)
            Rectangle:
                size: self.size
                pos: self.pos
        text: "车窗定位模块状态"
        font_name: "Font_Hanzi"
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: up_camera
            readonly: True
            text: "上相机运行"
            font_name: "Font_Hanzi"
            background_color: (0/255.0,255/255.0,127/255.0,1)
        TextInput:
            id: down_camera
            readonly: True
            text: "下相机运行"
            font_name: "Font_Hanzi"
            background_color: (238/255.0,44/255.0,44/255.0,1)
        Label:
            canvas.before:
                Color:
                    rgba: (238/255.0,118/255.0,0/255.0,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "车窗坐标"
            font_name: "Font_Hanzi"
        TextInput:
            id: window_position
            readonly: True
            text: "(x,y,z)"

<Camera>:
    source: 'logo.png'

